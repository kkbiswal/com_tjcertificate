var template={previewTemplate:function(e){jQuery(document).on("click",'button[data-bs-target="#templatePreview"]',function(){jQuery("#show-info").hide();var a=jQuery("#"+e);if("undefined"!=typeof tinyMCE)tinyMCE.execCommand("mceToggleEditor",!1,e);else if("undefined"!=typeof CodeMirror){var s=document.querySelector(".CodeMirror").CodeMirror;a.html(s.getValue())}else jQuery("#show-info").show();jQuery("#previewTempl").empty(),jQuery("<style>").html(jQuery("#jform_template_css").val()).appendTo("#previewTempl"),jQuery("<div>").html(a.val()).appendTo("#previewTempl")}),jQuery("#templatePreview").on("hidden.bs.modal",function(){"undefined"!=typeof tinyMCE&&tinyMCE.execCommand("mceToggleEditor",!1,e),jQuery("#previewTempl").empty()})},loadDefaultTemplate:function(e){var a={};if(""==e||void 0===e)return!1;a.defaultTemplate=e,tjCertificateService.loadDefaultTemplate(a).fail(function(e){var a={error:[e.responseText]};Joomla.renderMessages(a)}).done(function(e){if(!e.success&&e.message){var a={error:[e.message]};Joomla.renderMessages(a)}e.messages&&Joomla.renderMessages(e.messages),e.success&&template.renderDefaultTemplate(e,"jform_body")})},renderDefaultTemplate:function(e,a){jQuery("#"+a).empty().val(e.data),Joomla.editors.instances[a].setValue(e.data)},loadCustomTemplate:function(e){var a={};if(""==e||void 0===e)return!1;a.templateId=e,tjCertificateService.loadCustomTemplate(a).fail(function(e){var a={error:[e.responseText]};Joomla.renderMessages(a)}).done(function(e){if(!e.success&&e.message){var a={error:[e.message]};Joomla.renderMessages(a)}e.messages&&Joomla.renderMessages(e.messages),e.success&&template.renderDefaultTemplate(e,"jform_generated_body")})}};